# This file contains a standard Mu cluster blueprint for AWS.

{{set "cidr" "10.0.0.0/16"}}

private:
    aws/ec2/vpc:
        name: {{.Cluster.Name}}-VPC
        cidrBlock: {{get "cidr"}}
    aws/ec2/subnet:
        name: {{.Cluster.Name}}-Subnet
        vpc: vpc
        cidrBlock: {{get "cidr"}}
    aws/ec2/internetGateway:
        name: {{.Cluster.Name}}-InternetGateway
    aws/ec2/vpcGatewayAttachment:
        internetGateway: internetGateway
        vpc: vpc
    aws/ec2/routeTable:
        name: {{.Cluster.Name}}-RouteTable
        vpc: vpc
    aws/ec2/route:
        destinationCidrBlock: 0.0.0.0/0
        internetGateway: internetGateway
        vpcGatewayAttachment: vpcGatewayAttachment
        routeTable: routeTable
    aws/ec2/securityGroup:
        name: {{.Cluster.Name}}-SecurityGroup
        vpc: vpc
        groupDescription: The primary cluster group.

